> WARNING: README generated by ChatGPT

# KaTeX Slack Bot

A Slack bot that renders LaTeX equations. It listens for messages containing LaTeX in `$$...$$` format, renders them using KaTeX, and replies with a cropped PNG image.

## Features

- Parses LaTeX expressions from messages
- Renders math using [KaTeX](https://katex.org/)
- Uses a persistent headless browser for performance
- Crops screenshots to fit the math expression
- Replies in thread with the rendered image

## Setup

### 1. Clone and install dependencies

```
python3 -m venv env
source env/bin/activate
pip install -r requirements.txt
```

### 2. Install KaTeX CLI

```
npm install -g katex
```

### 3. Set environment variables

Create a `.env` file with the following:

```
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_APP_TOKEN=xapp-your-app-level-token
```

Make sure your app is configured with the correct scopes and has Socket Mode enabled.

## Usage

Run the bot:

```
python bot.py
```

Then in Slack, send a message like:

```
Here's the formula: $$E = mc^2$$
```

The bot will respond with a rendered image in a thread.

## Development

You can test rendering locally without Slack:

```python
from bot import render_latex_to_png
import asyncio

asyncio.run(render_latex_to_png("E = mc^2", "test.png"))
```

## License

MIT License.